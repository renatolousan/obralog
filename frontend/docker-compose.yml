# next-app/docker-compose.dev.yml
services:
  web:
    build:
      context: .
      dockerfile: dockerfile.dev
    ports:
      - "3000:3000"
    # Monta o código para hot-reload
    volumes:
      - ./:/app
      # Evita sobrescrever node_modules do container
      - /app/node_modules
    environment:
      NODE_ENV: development
      NEXT_TELEMETRY_DISABLED: "1"
      # Às vezes o watch precisa de polling em FS (WSL/alguns hosts):
      CHOKIDAR_USEPOLLING: "true"
